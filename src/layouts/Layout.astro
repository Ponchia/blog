---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

interface Props {
	title?: string;
	description?: string;
}

const { title = SITE_TITLE, description = SITE_DESCRIPTION } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
		<!-- GoatCounter Analytics -->
		<script data-goatcounter="https://ponchia.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
		
		<!-- Theme initialization script - must be in head to avoid FOUC -->
		<script is:inline>
			// Get theme from localStorage or system preference
			function getTheme() {
				if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
					return localStorage.getItem('theme');
				}
				return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
			}
			
			// Apply theme to document immediately
			const theme = getTheme();
			document.documentElement.setAttribute('data-theme', theme);
		</script>
	</head>
	<body>
		<Header />
		<main class="fade-in">
			<slot />
		</main>
		<Footer />
	</body>
</html>

<style>
	main {
		width: 100%;
		max-width: var(--content-width);
		margin: 0 auto;
		padding: 3rem 1.5rem;
	}

	@media (max-width: 768px) {
		main {
			padding: 2rem 1rem;
		}
	}
</style> 